(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3105],{97662:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/myCollections",function(){return n(49405)}])},49405:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return X}});var o=n(35944),i=n(67294),r=n(53156),l=n(15861),a=n(87357),c=n(83321),s=n(86886),d=n(11163),u=n.n(d),p=n(69077),h=n(55678),f=n(59992),g=n(90948),m=n(41796),Z=n(35294),x=n(55819),b=n(77957),y=n(79369),v=n(41733);let C=(0,g.ZP)(t=>(0,o.tZ)(Z.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...t}))(t=>{let{theme:e}=t;return{"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),minWidth:180,color:"light"===e.palette.mode?"rgb(55, 65, 81)":e.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:active":{backgroundColor:(0,m.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}}}});function w(t){let{id:e,setSeletedId:n,setOption:r}=t,[l,a]=i.useState(null),s=!!l,d=t=>{t.stopPropagation(),n(-1),r(""),a(t.currentTarget)},u=t=>{t.stopPropagation(),a(null)};return(0,o.BX)("div",{children:[(0,o.tZ)(c.Z,{id:"customized-button",className:"customized-button","aria-controls":s?"customized-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,variant:"contained",disableElevation:!0,onClick:d,endIcon:(0,o.tZ)(y.Z,{}),sx:{p:0,minWidth:0,background:"#fff",color:"#000",cursor:"pointer",span:{ml:0,mr:0},"&:hover":{background:"#fff",color:"#000"}}}),(0,o.BX)(C,{id:"customized-menu",MenuListProps:{"aria-labelledby":"customized-button"},anchorEl:l,open:s,onClose:u,children:[(0,o.BX)(x.Z,{disableRipple:!0,onClick:async t=>{t.stopPropagation(),await n(-1),n(e),r("edit")},children:[(0,o.tZ)(b.Z,{}),"Edit"]}),(0,o.BX)(x.Z,{onClick:async t=>{t.stopPropagation(),await n(-1),n(e),r("delete")},disableRipple:!0,children:[(0,o.tZ)(v.Z,{}),"Delete"]})]})]})}var S=n(81292),k=n(64666),B=n(31425),E=n(6514),O=n(58951),P=n(37645),_=n(98396),I=n(2734);function N(t){let{setOpen:e,open:n,handleComfirm:i}=t,r=(0,I.Z)(),l=(0,_.Z)(r.breakpoints.down("md")),a=()=>{e(!1)};return(0,o.tZ)("div",{children:(0,o.BX)(k.Z,{fullScreen:l,open:n,onClose:a,"aria-labelledby":"responsive-dialog-title",children:[(0,o.tZ)(P.Z,{id:"responsive-dialog-title",children:"Delete Collection"}),(0,o.tZ)(E.Z,{children:(0,o.tZ)(O.Z,{children:"Are you sure you want to delete this collectionï¼Ÿ"})}),(0,o.BX)(B.Z,{children:[(0,o.tZ)(c.Z,{autoFocus:!0,onClick:i,variant:"contained",children:"COMFIRM"}),(0,o.tZ)(c.Z,{onClick:a,autoFocus:!0,children:"Cancel"})]})]})})}function X(){let t=(0,p.mA)(),[e,n]=(0,i.useState)(null),[d,g]=(0,i.useState)([]),[m,Z]=(0,i.useState)(!1),[x,b]=(0,i.useState)(-1),[y,v]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("userInfo"),o=JSON.parse(e);(null==o?void 0:o.walletAddress)===(null==t?void 0:t.address)?(n(o),(0,f.kj)({userId:null==o?void 0:o.id}).then(t=>{g(t)})):u().push("/signup")},[]),(0,i.useEffect)(()=>{x&&-1!==x&&"delete"===y?Z(!0):Z(!1),x&&-1!==x&&"edit"===y&&(console.log("edit",x),u().push("/editCollection?cid=".concat(x)))},[x]);let C=async()=>{if(x&&-1!==x)try{let t=await (0,f.Rm)({id:x,status:null===S.ni||void 0===S.ni?void 0:S.ni.Deleted});"success"===t&&(h.Am.success("Collection Deleted"),g(d.filter(t=>t.id!==x)),b(-1))}catch(t){console.log("error")}};return(0,o.BX)(r.Z,{maxWidth:"lg",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},children:[e?(0,o.BX)(a.Z,{sx:{width:"100%"},children:[(0,o.BX)(a.Z,{sx:{display:"flex",alignItems:"center",my:2},children:[(0,o.tZ)(a.Z,{component:"img",src:null==e?void 0:e.userLogo,alt:"userLogo",sx:{width:"114px",height:"114px",borderRadius:"50%"}}),(0,o.tZ)(l.Z,{variant:"body1",component:"p",gutterBottom:!0,sx:{textAlign:"left",ml:2,fontSize:"30px"},children:null==e?void 0:e.userName})]}),(0,o.BX)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",my:2},children:[(0,o.tZ)(l.Z,{variant:"h4",component:"h1",gutterBottom:!0,sx:{textAlign:"left"},children:"Your open edition collections"}),(0,o.tZ)(c.Z,{sx:{background:"#000",color:"#fff",mr:2,"&:hover":{backgroundColor:"#000",color:"#fff"}},onClick:()=>{u().push("/createCollection")},children:"Create New"})]}),(0,o.tZ)(s.ZP,{container:!0,sx:{minHeight:"500px"},children:null==d?void 0:d.map(t=>(0,o.tZ)(s.ZP,{item:!0,xs:4,children:(0,o.BX)(a.Z,{sx:{background:"#fff",mr:2,mt:2,p:2,cursor:"pointer",minHeight:"300px",borderRadius:"8px"},onClick:e=>{e.stopPropagation(),u().push("/collectionInfo?cid=".concat(null==t?void 0:t.id))},children:[(0,o.BX)(a.Z,{sx:{position:"relative"},children:[(0,o.tZ)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",background:"#eee",minHeight:"200px",borderRadius:"8px"},children:(0,o.tZ)(a.Z,{component:"img",src:null==t?void 0:t.imgUrl,alt:"imgUrl",sx:{maxWidth:"100%",maxHeight:200,objectFit:"contain"}})}),(0,o.tZ)(l.Z,{sx:{position:"absolute",bottom:-10,left:0,p:1,fontSize:20,background:"rgba(255,255,255,0.3)",width:"100%"},children:null==t?void 0:t.collectionName}),(0,o.tZ)(a.Z,{sx:{position:"absolute",top:2,right:4},children:(0,o.tZ)(w,{id:null==t?void 0:t.id,setSeletedId:b,setOption:v})})]}),(0,o.tZ)(a.Z,{sx:{px:1,mt:2},children:(0,o.BX)(l.Z,{children:["Status:"," ",S.Nb[(null==t?void 0:t.status)||1]]})})]})},null==t?void 0:t.id))})]}):null,(0,o.tZ)(N,{setOpen:Z,open:m,handleComfirm:C})]})}},81292:function(t,e,n){"use strict";n.d(e,{Nb:function(){return o},ni:function(){return i}});let o={0:"Deleted",1:"Draft",2:"Deployed",3:"Minting",4:"Mint Ended"},i={Deleted:0,Draft:1,Deployed:2,Minting:3,MintEnded:4}},59992:function(t,e,n){"use strict";n.d(e,{BL:function(){return r},Ix:function(){return a},Rm:function(){return l},kj:function(){return i}});var o=n(11280);let i=async t=>{try{let e=await fetch("".concat(o._,"launchpad/queryList"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(null==n?void 0:n.success)return null==n?void 0:n.data;return""}catch(t){return console.error("Error:",t),""}},r=async t=>{try{let e=await fetch("".concat(o._,"launchpad/addLaunchpad"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(null==n?void 0:n.success)return"success";return""}catch(t){return console.error("Error:",t),""}},l=async t=>{try{let e=await fetch("".concat(o._,"launchpad/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(null==n?void 0:n.success)return"success";return""}catch(t){return console.error("Error:",t),""}},a=async t=>{let e=new FormData;e.append("file",t);try{let t=await fetch("".concat(o._,"launchpad/uploadImg"),{method:"POST",body:e}),n=await t.json();if(null==n?void 0:n.success)return null==n?void 0:n.msg;return""}catch(t){return console.error("Error:",t),""}}}},function(t){t.O(0,[2456,5760,6886,1975,2624,9774,2888,179],function(){return t(t.s=97662)}),_N_E=t.O()}]);